<div class="borrow-transactions-container">
  <h2>Borrowing Transactions - {{ memberName }}</h2>

  <section>
    <h3>Active Borrowed Books</h3>
    <table *ngIf="activeTransactions.length > 0; else noActive">
      <thead>
        <tr>
          <th>Book ID</th>
          <th>Borrow Date</th>
          <th>Status</th>
          <th>Return</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let tx of activeTransactions">
          <td>{{ tx.book.bookId }}</td>
          <td>{{ tx.borrowDate }}</td>
          <td>{{ tx.status }}</td>
          <td>
            <button (click)="returnBook(tx.transactionID)">Return</button>
          </td>
        </tr>
      </tbody>
    </table>
    <ng-template #noActive>
      <p>No active borrowed books.</p>
    </ng-template>
  </section>

  <section>
    <h3>Full Borrowing History</h3>
    <table *ngIf="transactions.length > 0; else noHistory">
      <thead>
        <tr>
          <th>Book ID</th>
          <th>Borrow Date</th>
          <th>Return Date</th>
          <th>Status</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let tx of transactions">
          <td>{{ tx.book.bookId }}</td>
          <td>{{ tx.borrowDate }}</td>
          <td>{{ tx.returnDate || 'Not Returned' }}</td>
          <td>{{ tx.status }}</td>
        </tr>
      </tbody>
    </table>
    <ng-template #noHistory>
      <p>No borrowing history found.</p>
    </ng-template>
  </section>
</div>
